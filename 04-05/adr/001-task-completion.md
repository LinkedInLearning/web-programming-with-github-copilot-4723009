# ADR-001：タスク完了機能の追加

## Context（背景・課題・目的）
現在のToDoアプリでは、タスクを追加・削除する機能のみが実装されている。  
ユーザーから「完了済みのタスクを区別したい」「作業中タスクだけ見たい」という要望があがっている。  

現状課題：
- 完了・未完了の状態を管理するプロパティが存在しない  
- UI上で完了状態を明確に示す方法がない  
- ローカルストレージへの保存構造を拡張する必要がある  

## Options（検討した実装案）
### 案A：タスクオブジェクトに `completed: boolean` を追加し、クリックで切り替える  
- **メリット**：実装が簡潔、既存構造との整合性が取りやすい  
- **デメリット**：UI操作の増加、誤クリックリスク  

### 案B：`isActive` プロパティを流用し、`false`を完了状態とする  
- **メリット**：新規プロパティを追加せず簡易に対応可能  
- **デメリット**：変数名と挙動の意味が乖離しやすく、保守性が低下  

### 案C：タスク状態を`status: 'active' | 'completed'`として文字列管理  
- **メリット**：拡張性が高く、将来的な状態追加（例：保留）にも対応しやすい  
- **デメリット**：既存関数の修正範囲が広い  

## Decision（採用した方針と理由）
案Aを採用する。  
`completed: boolean` プロパティを新たに追加し、タスクのクリックで完了状態を切り替える。  
UI上では、完了タスクに `.completed` クラスを付与し、グレーアウト＋打ち消し線で表示。  
ローカルストレージには `completed` 状態を含めて保存する。  

更新対象：
- `modules/taskList.js`：クリックイベントによる状態トグルを追加  
- `modules/storage.js`：保存形式を拡張  
- `style.css`：`.completed` クラスのスタイルを追加  

## Consequences（想定される影響・今後の対応）
### 影響
- 既存の `isActive` フラグとは意味が重複するため、今後リネームを検討する  
- 表示制御の追加によりレンダリングコストがわずかに上昇（リスト再描画）  
- ローカルストレージの既存データは後方互換で読み込めるように処理を保持  

### 今後の対応
- 完了タスクのフィルタリング機能を次の開発項目として追加予定  
- 状態管理の統一（`isActive` → `status`）は今後のリファクタリングで実施する  
